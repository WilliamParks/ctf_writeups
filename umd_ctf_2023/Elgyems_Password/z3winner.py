#!/usr/bin/env python
from z3 import *

big_w_str = '[ 13473456868173365383019/62500000000000000  -229962157272504930617943/1000000000000000000      21938038835178838321461/62500000000000000     47604178304497833438207/250000000000000000   461404008913550400527599/1000000000000000000      28631932428865926438289/62500000000000000     84311100794071061107289/200000000000000000     83944437468946116467869/200000000000000000    -11898961552158098151931/500000000000000000   199885459785649701187203/1000000000000000000     -30073423150306384484489/62500000000000000   -67091377774220577358593/1000000000000000000     69210528579470660688109/250000000000000000       -290740522227989064209/10000000000000000    100192628444093907980203/500000000000000000    270977999686868779655083/500000000000000000         155690223507880334957/8000000000000000  -610472787836078635997709/1000000000000000000     -1308377547292478929177/125000000000000000   100710912106482916185893/1000000000000000000  -204439568341580490300839/1000000000000000000    -87930000150346355450273/250000000000000000   110960649644867993320879/1000000000000000000     48003199914954137439757/125000000000000000  -344153953812049118152463/1000000000000000000     27509191471895716774463/200000000000000000    166156580955417740684497/500000000000000000   224683581897691410921429/1000000000000000000     82077217896027337948763/500000000000000000   -127477984255353233039143/500000000000000000      -5490591666236215322537/31250000000000000     37122515757393093048737/500000000000000000    116533720497550126505507/200000000000000000     22434461895841074736463/500000000000000000    -87850595505188082523223/250000000000000000     64299958415940034679131/500000000000000000  -501703417491040720568681/1000000000000000000]\n[  -13420760527775531204457/1000000000000000000   -58826344357357621672723/1000000000000000000   332208613956165955753139/1000000000000000000   190011756285970917933481/1000000000000000000     33939183426486718414017/200000000000000000   212450701086343624495667/1000000000000000000     17155804867071868996319/200000000000000000   125156852286084908539133/1000000000000000000     -8142557748055924319191/200000000000000000    -10709395072737589669589/125000000000000000         -80049753002435378233/1953125000000000        150655856746366658817/12500000000000000   -56069734614049508445397/1000000000000000000      -8688219292736376980777/62500000000000000  -226594735179811688067363/1000000000000000000   615875639007721523750307/1000000000000000000     38765715562799969604669/500000000000000000    -23603996274555440227237/200000000000000000   -93620624167954599567703/1000000000000000000    122809338449473242645693/500000000000000000    37124353782152922579743/1000000000000000000       -1589945963856739559339/6250000000000000   261146588876843230008229/1000000000000000000    17286227396836711392491/1000000000000000000     -10344134360128650551731/62500000000000000     46474813551099971269143/500000000000000000       6118268732200838344299/40000000000000000     57572647076760400777377/200000000000000000  -236860575252510194686017/1000000000000000000     11764692675343457563127/100000000000000000    -36274062152001778074401/100000000000000000    16552753680744971973339/1000000000000000000   614331253734201966867167/1000000000000000000     16570603000661203546307/250000000000000000  -167376054110562752077139/1000000000000000000     46058960805060867185891/250000000000000000   -102948692610744177051677/200000000000000000]\n[  577876026456528884251669/1000000000000000000    -13074188010049172038643/250000000000000000    -22633376600089918239037/200000000000000000      14305640049418509609603/25000000000000000     38916673672792343462603/500000000000000000   379806567500437523437417/1000000000000000000    15995767409831875740291/1000000000000000000  -199449399947334676248797/1000000000000000000     42903779122376989127789/250000000000000000  -456841691003490052102531/1000000000000000000    -36038535721793278496007/125000000000000000      18143628245921328699697/25000000000000000    -40280179043833797267323/125000000000000000   -171354618162522102938419/500000000000000000   -352019179419413276828283/500000000000000000    -96685741578001182895453/500000000000000000   434744041222775807577241/1000000000000000000           45560241119477512613/244140625000000   305751620523459368751301/1000000000000000000     17299842538701270612333/250000000000000000   334975528564226287142317/1000000000000000000  -235132874236401235171867/1000000000000000000      7338634627141152152589/125000000000000000     -26571562137278263906729/31250000000000000   232152836241536331522613/1000000000000000000       6456172853319720684873/20000000000000000    -23460161042272625443459/200000000000000000   414189908145110424679041/1000000000000000000   -108777129735187775536961/250000000000000000     52934310180801493283489/500000000000000000     86006126787926750824369/500000000000000000       7595866265675623975771/31250000000000000   -216215932629252788288621/500000000000000000  -380946961350494442943663/1000000000000000000    84105347547354752664263/1000000000000000000     64593856766302408840661/250000000000000000   421074425066062041895443/1000000000000000000]\n[   251982415855483973252813/500000000000000000   238651156069854133118561/1000000000000000000      13145267128635893543419/25000000000000000      11515470350029503766223/40000000000000000  -265985491460134802533963/1000000000000000000     36125574334248672404609/250000000000000000   431727419818888641658339/1000000000000000000    87009009638206251419853/1000000000000000000   -43929348110657005874061/1000000000000000000     -22181237104177855099769/40000000000000000     80949950825790984610697/500000000000000000    47323493474949153142601/1000000000000000000     19382927750698751091649/100000000000000000   -239779381870490040509769/500000000000000000       -3224269802118131246787/5000000000000000    -28066715455479491299293/250000000000000000     -16314327021787443606469/62500000000000000    -46027707852966632391953/500000000000000000   404844063156261261758977/1000000000000000000   -140590469112534862908823/500000000000000000   160045514343317105352527/1000000000000000000   134401265885225959877891/1000000000000000000   188056731222909164819517/1000000000000000000   -135871599055590484733779/250000000000000000    13558987458081066926097/1000000000000000000    263029898124172886907861/500000000000000000  -108761072620129929373699/1000000000000000000    301796742306679024365453/500000000000000000   -162458832068507555259087/250000000000000000    269404204823011336743923/500000000000000000  -236272782971293774260069/1000000000000000000     16042677882915906996991/250000000000000000     42170599210802713079121/250000000000000000    -62951722072181150201257/250000000000000000  -124377239795442831263029/1000000000000000000     99962028828462353895043/200000000000000000  -722763831135126759516383/1000000000000000000]\n[  -107385132743743296566369/200000000000000000   198631625581909874719793/1000000000000000000  -204687503245619876436973/1000000000000000000   -158872158766371106755447/250000000000000000  -234624346033105104327733/1000000000000000000    -89385978822354211176949/200000000000000000  -766964996805764481633161/1000000000000000000    -6950201676960417151437/1000000000000000000  -861360586320756260585381/1000000000000000000  -315670829492402907423123/1000000000000000000    -16560681625077656785477/125000000000000000  -448718979828757772114859/1000000000000000000    -72399410431349840366497/200000000000000000     21284827123551627203503/500000000000000000   -274964469736743065685209/500000000000000000  -368162766124811156823307/1000000000000000000    -89929973182347727556077/200000000000000000      -9584272744391074629269/50000000000000000  -234827902542007276886417/1000000000000000000  -301469006542621421649251/1000000000000000000   -142647434022658519269299/500000000000000000  -422306860718247772483027/1000000000000000000    -27506001271416614533433/250000000000000000     24529021325734546765573/500000000000000000    70553674828677191215653/1000000000000000000   -169945862373015070129811/200000000000000000   -288482049017233514490993/500000000000000000  -812010671205513932752681/1000000000000000000      34284135664916062693187/50000000000000000  -182579706847171180313707/1000000000000000000   626950509523385746386313/1000000000000000000    -44368003832583298268243/500000000000000000   -422023653047964666132621/500000000000000000   460517654570029424161799/1000000000000000000     30247158633623170363081/125000000000000000    -69291039214244580091573/500000000000000000    -94101371466848208096237/250000000000000000]\n[ -208686178307091256392601/1000000000000000000   -65624993701384271803751/1000000000000000000        -519697325329782059277/1600000000000000    46726650747954498687287/1000000000000000000   -46102597783870115885681/1000000000000000000    307127848069667266460519/500000000000000000   139810705350068929917743/1000000000000000000  -215072009268319991500291/1000000000000000000    266895165370407121608011/200000000000000000    144284493730305526308723/250000000000000000      -802182741148709939231/250000000000000000     51160265068592589413753/250000000000000000     60995837190015020145177/100000000000000000    301898867274641008379589/500000000000000000    200644237849657351846671/200000000000000000        2415501883874348185119/6250000000000000    275083445402081387067749/500000000000000000     81046680355454652498453/250000000000000000     70015537218211682634823/500000000000000000     54933472634087550987039/125000000000000000   486717775487753708176179/1000000000000000000     16485665623759436809623/125000000000000000   451387476778069836453211/1000000000000000000    289699153526547323639897/500000000000000000         481978733710502165491/8000000000000000     -5147191022170768546551/500000000000000000  -237392989061860587814041/1000000000000000000   184517431245278102537791/1000000000000000000 -1087850689143451393390893/1000000000000000000     11535988555408657800181/100000000000000000    -68745581788168024588541/125000000000000000      10257511890882025313659/40000000000000000    633825025643718014404107/500000000000000000  -693709076021417910045339/1000000000000000000  -101404379575740939683531/1000000000000000000      -9381842638866124972727/40000000000000000     53331749919599309795073/125000000000000000]\n[     -1624070991768595466233/15625000000000000   292489048973220539246081/1000000000000000000     38361568729424287875777/500000000000000000   -307452343882464228071619/500000000000000000    131726624326243783956453/500000000000000000   239815849363229042393121/1000000000000000000   121121657310997796664867/1000000000000000000   -29111869391794012632257/1000000000000000000  -170059533706852692935463/1000000000000000000   275065597315438777075587/1000000000000000000      19274891213518654640193/25000000000000000       5050840578687505784019/31250000000000000       6419129097517754393897/20000000000000000    32390931380170952363641/1000000000000000000   898398553644690581561027/1000000000000000000    114290367175989838401251/250000000000000000   -287059848935129939258349/500000000000000000     35186338982042884397323/125000000000000000    -33094852975206023789239/200000000000000000    -18150305265118828400057/100000000000000000  -261237083627473989461581/1000000000000000000    330500740351806162648113/500000000000000000      3498975512967586331731/200000000000000000       8976875369554498822469/50000000000000000    -12559452887964893345613/200000000000000000   347556838988317930342801/1000000000000000000     40210630744680178872671/100000000000000000     12436539484906881272383/500000000000000000   -38072582065805147358143/1000000000000000000  -170309684722323782888837/1000000000000000000     -11758864021165878060901/40000000000000000    -62025508073941446599899/500000000000000000   -45598921805163157806213/1000000000000000000     12333171780898484730267/500000000000000000     20297882960516840913021/500000000000000000        582002807300504580769/40000000000000000     -1409151010122019824361/100000000000000000]\n[ -202561639495453275930721/1000000000000000000    -48330290065654631561223/500000000000000000   -82893405158203150725329/1000000000000000000      6550207729824075780493/500000000000000000    87872713919343012182877/1000000000000000000    -62781508286511452224717/200000000000000000     27029596664902934368189/100000000000000000       2443981633478784697273/15625000000000000       6949966943623494999137/62500000000000000   579926011930380906166423/1000000000000000000   -57708526898947225023963/1000000000000000000    -66069805603897508334697/125000000000000000    22737571014300710069209/1000000000000000000   472844194111530007021881/1000000000000000000    128832196591167037238363/200000000000000000  -169422837887223924310337/1000000000000000000   272732372631996636511639/1000000000000000000   131302076208928904916163/1000000000000000000  -211847694429484005466033/1000000000000000000     60915795685840476666849/200000000000000000     -7166759295297963917449/250000000000000000     14151776612329467757833/250000000000000000  -566046694077195685110853/1000000000000000000   481575638499884286607219/1000000000000000000     83005800507410401537043/500000000000000000   -162671021656252765046693/500000000000000000    126506669294356305372893/500000000000000000   182449057354114303955737/1000000000000000000   665325814275519361914521/1000000000000000000  -324224071234602997926599/1000000000000000000    167645216755622944739419/500000000000000000      2413846283420854169133/500000000000000000     -1866510147193059865583/100000000000000000     32805565543260297453463/250000000000000000  -256829225748907459055469/1000000000000000000     -11733660727887899419513/62500000000000000    192017164059141169767967/500000000000000000]\n[  156826682000267685505137/1000000000000000000  -133860634603951556246841/1000000000000000000     24218885763448317438487/500000000000000000      -6183329168536596372337/31250000000000000     85770597636332344595943/200000000000000000    180598005415988969889183/500000000000000000     81996398093482155843671/100000000000000000    13668740194996274083251/1000000000000000000    357616735368950158013029/500000000000000000    147701646783414556732881/500000000000000000   176801640153301098742781/1000000000000000000   361312233450200059871253/1000000000000000000   361356395820827307596927/1000000000000000000       8057787710209177158767/40000000000000000     76956848851684004623439/125000000000000000   406164728695071222412551/1000000000000000000  -132070640448303286399693/1000000000000000000  -339042104664771078547299/1000000000000000000     30416433633451096542109/500000000000000000  -728690730236885636208557/1000000000000000000   282823048933273206260971/1000000000000000000      1471944705939305418627/200000000000000000   733623363909843626304971/1000000000000000000   261611704995179845929873/1000000000000000000    -49701544592018899638669/200000000000000000    197031398014247234794671/250000000000000000       1432547688566705739737/20000000000000000    -24364799528700442261849/250000000000000000  -833859785886318646350477/1000000000000000000   -39517169624987231552291/1000000000000000000  -184130053380272171472123/1000000000000000000    -41864383776835150225601/125000000000000000   541992438094695055965909/1000000000000000000  -208488525398882021590531/1000000000000000000     -13699957790288855028653/50000000000000000     -14668938175617492957013/40000000000000000   -15040307036460700165391/1000000000000000000]\n[   -53312684108835963758237/250000000000000000       9328576831822656822297/50000000000000000    -19983277090843818652319/250000000000000000  -349312803260514372711703/1000000000000000000   -39155418065094937761887/1000000000000000000   173310850682707459250647/1000000000000000000   -119235194475841699246471/500000000000000000   -170075878463798483024067/500000000000000000   -36173456440426473856163/1000000000000000000   197595938525736109423867/1000000000000000000     28684588724798181199121/500000000000000000     10332433426340551410933/100000000000000000   302680830196691787859731/1000000000000000000    130736341611385449413137/500000000000000000  -232601356780548004649459/1000000000000000000    54728718121695103206479/1000000000000000000   452940020758442153104069/1000000000000000000    32801769075495726859873/1000000000000000000   233955513519262607059897/1000000000000000000      7399608602387808585231/250000000000000000   -118617575326792559940949/500000000000000000      5353793036498865635843/250000000000000000    -18774645319832315126201/250000000000000000   249870985589062725496501/1000000000000000000      9074176821714378500609/100000000000000000   -130400645658729855124529/500000000000000000    -60956637419196649071197/250000000000000000   -82399668498881863688413/1000000000000000000  -112971384857136159914591/1000000000000000000   140663254749778012919929/1000000000000000000   -309012867910448788147517/500000000000000000       8227054603946412728597/62500000000000000    55484991457845933809897/1000000000000000000       4307409968905250341263/50000000000000000  -214652285970966332102161/1000000000000000000       -169591083455941897871/12500000000000000    -39716959489217247545363/125000000000000000]\n[    53527881049305450859973/125000000000000000    -15539751798599202790471/250000000000000000   179101502759514857390797/1000000000000000000   263153612438561070120241/1000000000000000000    -53021309561207476378997/200000000000000000    -58776089925888041992041/200000000000000000    -85847976291182784008471/125000000000000000  -318419424099509833376617/1000000000000000000  -919055235554191526895829/1000000000000000000  -725040363598304336783919/1000000000000000000   197219387713115223641147/1000000000000000000   283718487120210927510811/1000000000000000000  -844938512378725365100361/1000000000000000000    -97108157716978144518403/200000000000000000 -1130409820747944535548839/1000000000000000000  -301804875131401980226993/1000000000000000000     74978139326416565374881/250000000000000000   402391863743526378414517/1000000000000000000      6223403248200762744469/500000000000000000     33196616631190778259391/100000000000000000    -71949618857279565778541/250000000000000000     1291450457115583957653/1000000000000000000  -515830962099205347954757/1000000000000000000     -33399429035965068400179/31250000000000000   251449867593102267500441/1000000000000000000     35545903420799810215253/500000000000000000     49629648758617281193353/250000000000000000     37096709850910627228419/500000000000000000    197199786975071822517991/250000000000000000   277906654887145705094567/1000000000000000000     -2452131386494243458913/125000000000000000     29577247075331866412067/125000000000000000   -475160191057109897987627/500000000000000000     64182312448602570762311/500000000000000000     32027119570723850193481/100000000000000000    111185559313169856224847/500000000000000000   141279110582750332508021/1000000000000000000]\n[      2118562012858982631343/12500000000000000   -81333663177396921174011/1000000000000000000    -17109507709759402040423/125000000000000000     34300605498457546300883/125000000000000000     -8641686544588585675063/125000000000000000   498674726992677330005029/1000000000000000000     -21381398934241392678401/50000000000000000      -4752864671161305268657/12500000000000000     48904211351082206456133/250000000000000000    38150756952865907948771/1000000000000000000  -472590265959448752820067/1000000000000000000         255546754047047373801/3125000000000000     10565894527907861417199/200000000000000000       5288703062399217775623/20000000000000000     -13477393846277666426587/31250000000000000  -244856777293367784939037/1000000000000000000   549344545912723488839371/1000000000000000000    63943047234590404763101/1000000000000000000   386550425171619455593727/1000000000000000000    203591131030043536019589/250000000000000000     -20780502504957388776279/62500000000000000    -18916122399237168779601/200000000000000000  -371159817768118321205263/1000000000000000000    28156482596783011431287/1000000000000000000   169332999059693353904771/1000000000000000000  -448038913365336687656827/1000000000000000000     18631916490424325850569/500000000000000000     33037652634082014438761/100000000000000000     10096219806590303919279/100000000000000000    71656002272442780449321/1000000000000000000   -133928156108242354919867/250000000000000000      15299974324840629279777/31250000000000000     18575596652987884230049/250000000000000000        580222660391909973001/40000000000000000      6871190635182582895737/500000000000000000     30242859001243862000683/250000000000000000      18571280476496753282087/50000000000000000]\n[   -39048115320462047653119/200000000000000000     42874085097418531118773/100000000000000000    -67447545862289766091697/500000000000000000     30360307523530752172149/200000000000000000         134197310583751835823/1250000000000000   636146606042279560222669/1000000000000000000     40613917916040099228977/250000000000000000      2935229747864838058267/200000000000000000     63675348379856984515861/100000000000000000   205373693545651627078113/1000000000000000000     -8841092415252449250973/125000000000000000   210779372898519922789543/1000000000000000000   735275483404474842722387/1000000000000000000      3228501701528314579653/250000000000000000   -65978084438417675561927/1000000000000000000   160060298301955728234099/1000000000000000000   117052639189728761380657/1000000000000000000     77544667868057622505671/500000000000000000      13535035908769908679001/50000000000000000     20962490626645515446603/200000000000000000     42580003559731902565059/250000000000000000     77166082617434227932621/500000000000000000     86909476898890110812313/250000000000000000     32966489269003644179647/100000000000000000      -3978064957889285295341/31250000000000000    -18528503003398354385063/200000000000000000  -360114140589810180776901/1000000000000000000   361871226263189315040661/1000000000000000000   -262306407414336063712989/250000000000000000     16127969167963110792863/125000000000000000  -503440546340459297263271/1000000000000000000   113256418478006487283517/1000000000000000000   588952148077915330908503/1000000000000000000   -80450173656386866693633/1000000000000000000   -88998452336545600679343/1000000000000000000    171555643781566419206737/500000000000000000    -69663691282974245641593/250000000000000000]\n[  -167906343019667122123413/500000000000000000    -21539339553900832652771/250000000000000000    -75154350601089178851309/200000000000000000   -39041035958695838981539/1000000000000000000     14030823663599602812121/200000000000000000     -17869276776875124358663/50000000000000000     19255216360286980793711/125000000000000000    -24790347171366293305561/200000000000000000   325216297111728195989793/1000000000000000000    187365360497762279076517/500000000000000000    -26994401826046492658981/500000000000000000   274391155940938921828181/1000000000000000000      6476081426951013131237/500000000000000000     -1214862727632406862097/250000000000000000    311382958150672815716381/500000000000000000       2612282032498165777791/10000000000000000   -19503319688807752296073/1000000000000000000    -12382419015676527510243/500000000000000000       516365301318894258657/500000000000000000     -3377447357907327802051/125000000000000000   372790956472395895121989/1000000000000000000     77313331566588535756891/500000000000000000    45291998395132923242179/1000000000000000000      15367852395010328004369/62500000000000000     37664586390803998531731/200000000000000000     -8144922786757569441951/125000000000000000     39663820913432901822883/250000000000000000    86361675983803818625207/1000000000000000000  -502238279301200051113777/1000000000000000000    -45357304043337316826791/250000000000000000    38460746711600826776517/1000000000000000000  -308299028395091919687959/1000000000000000000     23433854881746879896977/200000000000000000  -102200152993209522895979/1000000000000000000  -117355521927068914463869/1000000000000000000     -6775823321732332917251/500000000000000000       4725143660429995310037/10000000000000000]\n[   333339594144847136408679/500000000000000000   -238767864194243016310741/500000000000000000    418433842805761169850669/500000000000000000     16720310031806570321449/125000000000000000     14599036943726188515211/100000000000000000    92097119606544792842393/1000000000000000000    476225818198621586749331/500000000000000000      13946655028183785719129/40000000000000000   -14122183534898771743433/1000000000000000000    -34992465409776322587651/100000000000000000  -133648798701904384739489/1000000000000000000        1024200722189636958909/6250000000000000  -103630553109464076677417/1000000000000000000  -312131815339333333100299/1000000000000000000     21775521490367103427311/200000000000000000    427074605534071117522593/500000000000000000    -11586824504805669155923/500000000000000000    -83398620950443990652419/100000000000000000     22650387747131414265297/200000000000000000     -24347281036270508927177/40000000000000000      22448388854613275802431/50000000000000000   -119419016400743726702543/200000000000000000   645195671411608767368443/1000000000000000000  -321538382202350896351449/1000000000000000000  -121421553751059481684419/1000000000000000000   983169038425421244288763/1000000000000000000       8523191806423836906299/40000000000000000   374199639058042095790547/1000000000000000000   -246772493220889624800359/500000000000000000     53654428861498061734853/200000000000000000     -5246341451742665660793/100000000000000000  -112488336550279909949497/1000000000000000000   882053878148552440998999/1000000000000000000     -16324271583222428844483/25000000000000000  -632879008592663197601931/1000000000000000000    57056216654528136013023/1000000000000000000   -131669010455395546518751/125000000000000000]\n[    18914124232896385529529/125000000000000000     -18781297329324749536737/50000000000000000     85170947542196674376141/125000000000000000   651894885089184057946257/1000000000000000000      5235253104421798920879/250000000000000000     -11626672008886099116547/15625000000000000    106827747492394774799429/125000000000000000   435446253107873265919579/1000000000000000000   -26660992569506948857491/1000000000000000000    63343748912700095704379/1000000000000000000   -99569664264915482101101/1000000000000000000   -350135440818891268302733/500000000000000000   -121952985612242676610563/500000000000000000   -92769023044483455340727/1000000000000000000     -32336375936948018695659/62500000000000000    27939536206071326980189/1000000000000000000   288879278048177604285397/1000000000000000000  -437872155756414127205439/1000000000000000000    -34494552822493026580443/200000000000000000    -53497497095375865655841/500000000000000000     44512746458848682597497/500000000000000000  -270044845969847366389637/1000000000000000000   -70924898774820416212737/1000000000000000000     17267116735463305562463/125000000000000000   -145985954940185857673397/500000000000000000   405878004399708609092409/1000000000000000000   428739331073555615235189/1000000000000000000    174146182937136407953623/500000000000000000   394096855458622710260821/1000000000000000000   287887202697100481215511/1000000000000000000     -5629042725051291753847/100000000000000000   -195084205348190311381951/500000000000000000   601089350591192096773453/1000000000000000000   482881156610008311426099/1000000000000000000   -244486875834767578111851/500000000000000000      -3775009898692372587449/50000000000000000  -601424452108582138479297/1000000000000000000]\n[    46848102619987909681499/250000000000000000    49575220176987109525463/1000000000000000000    -11896262957216360855747/100000000000000000     38522566678878179645919/200000000000000000     62218782133600391189181/250000000000000000   804846549386398715095109/1000000000000000000   -127666569751299496574637/250000000000000000    97414636275566571403739/1000000000000000000    69984085284007488188859/1000000000000000000    96099738807913163146511/1000000000000000000    95520487415852744532969/1000000000000000000     76342221596863577361927/200000000000000000   260915794974429993561707/1000000000000000000    -15246165728757688391143/500000000000000000   220184620982496531244097/1000000000000000000     98092087773064699285187/500000000000000000       3620824962920933031899/10000000000000000   507311756743616430977667/1000000000000000000  -183053105711803767970887/1000000000000000000      17321060317800957294193/31250000000000000   -182934761103633142415633/500000000000000000    128547465598105381363443/500000000000000000    -11516219496380872169347/250000000000000000   -15029633106947505817743/1000000000000000000  -330477724823164956079287/1000000000000000000    84134529302123767871627/1000000000000000000   119739688093711238879493/1000000000000000000    -94288960937323779089761/500000000000000000    190867701547012038604189/500000000000000000    -82574272957696950372877/500000000000000000  -349513878118330200765707/1000000000000000000    234990241837325824609609/500000000000000000     24589250690783109255767/200000000000000000    -35093340627238792562971/250000000000000000   421865884275511812937973/1000000000000000000      6760706207822005265717/200000000000000000    149515587600088727923289/500000000000000000]\n[    53854897162395946156473/500000000000000000    36271614901275892373239/1000000000000000000  -323658633944585343774089/1000000000000000000   361569533963173958878449/1000000000000000000     -14219327885726344192333/31250000000000000  -337189570221711921717207/1000000000000000000  -631496978628040544410319/1000000000000000000  -329663117012906203358949/1000000000000000000   -140611299652712711057097/500000000000000000     -26399709060369457530999/62500000000000000     -17565416968855184681929/62500000000000000    147531606659852701603041/500000000000000000  -420065593749671605294731/1000000000000000000   -171079066181444022732389/500000000000000000   -190343398167600318352561/250000000000000000   -142129736092009028923889/250000000000000000   367834407717865022163209/1000000000000000000   312729256298577885755607/1000000000000000000     69295967780768418287617/250000000000000000      18574193150515246676609/50000000000000000   125679512195965167026507/1000000000000000000     -1038014938208207002013/250000000000000000  -468441234688110325732251/1000000000000000000   -328290969358890180849929/500000000000000000    219581587062597151064923/500000000000000000     -19913637982755174614211/50000000000000000  -230019947383459219276617/1000000000000000000     72258480143299906002711/500000000000000000     23569407913120221967819/250000000000000000     21829349418041016689249/125000000000000000     46545881434830740296919/250000000000000000   238059018402682458437251/1000000000000000000   -147453499107953399595177/200000000000000000  -159795375743467468657583/1000000000000000000   264416174945805526916237/1000000000000000000    161769923555573222053129/500000000000000000     91510573334984853168057/200000000000000000]\n[   132571052978863166057269/250000000000000000   -117701846793078112804727/250000000000000000     60710066879289137151063/500000000000000000    141811960219831110059967/500000000000000000  -303172409163303694321821/1000000000000000000   470747748376579924891001/1000000000000000000      -9971773571718595994199/50000000000000000     -44504326422505549634261/62500000000000000       7698715340138695744857/12500000000000000  -143471169555918143645337/1000000000000000000   -135157775556062638908167/500000000000000000    -37534956972510174383779/500000000000000000  -316084119131735489628937/1000000000000000000    301009523313929861609299/500000000000000000  -275620956027237010894767/1000000000000000000  -301305265193825093958531/1000000000000000000        1533850102470960503173/3125000000000000        641833477901595903517/31250000000000000     49811169496063653126351/100000000000000000   912373536632764004148129/1000000000000000000    -47960360625888630806297/250000000000000000  -137271873472568949900441/1000000000000000000    -94150738695851081112421/500000000000000000    -42122039700145487536053/200000000000000000        2665896493031204294217/7812500000000000   -42400129112573690007533/1000000000000000000   274620071128916482259523/1000000000000000000    249446590202378828031889/500000000000000000    -18779726598283324598813/200000000000000000   412516873076860204630227/1000000000000000000  -700277556836771503487091/1000000000000000000    256892685554743535477319/500000000000000000    246573247709276146848487/500000000000000000   -130318595440241282592583/500000000000000000     -5014542579632609862117/500000000000000000  -270282358072002389053513/1000000000000000000     89404895431656382344499/125000000000000000]\n[     -573605040797900974209/200000000000000000   -169959506085825334992731/500000000000000000  -264558890955067332927399/1000000000000000000   292769588938787468198379/1000000000000000000   451544872055900693580103/1000000000000000000     67781262187755635727167/125000000000000000    -61407623255330952470613/100000000000000000     11341168730795997769899/100000000000000000   102687526003649923220573/1000000000000000000    276672763404665088851423/500000000000000000    -12518547939367033692541/500000000000000000     13591295038132834104931/500000000000000000    -32524612730241034362711/250000000000000000    179715841165576491240481/500000000000000000     87511587837885950460419/100000000000000000     71725886153146899347781/250000000000000000     86891207970351140337321/200000000000000000   598420061764610976374709/1000000000000000000   -280041055398123628085573/500000000000000000      76369276140931471021513/62500000000000000   -112657068738293250327099/200000000000000000     33164062964214455573811/125000000000000000  -506359336520487690150091/1000000000000000000     71914194443888366626509/200000000000000000   -141804394910914150127031/500000000000000000  -233576302073554454564749/1000000000000000000   751506926145049997568167/1000000000000000000  -172473426353856642188083/1000000000000000000    604379764120721147262993/500000000000000000   -144812053309086757351911/250000000000000000    -39850231211022660019147/250000000000000000      17402244092006242259503/40000000000000000      10587704925654323673151/62500000000000000   161031767465621080063417/1000000000000000000     93626735558232461622711/200000000000000000       -2293107397193849437811/8000000000000000  1118366900199969967212667/1000000000000000000]\n[   57878100649435062501679/1000000000000000000     16081376040456215371019/500000000000000000       2338949844913665607047/25000000000000000   -134005163739401802308677/500000000000000000     -1952363040653101446713/500000000000000000     -7839835298605036314837/200000000000000000    -62541022702041524187097/125000000000000000  -181196147648660627054119/1000000000000000000  -887826508131250786426353/1000000000000000000    -46881999221670824977497/125000000000000000   -94656875642013075854991/1000000000000000000    21747473594820172762379/1000000000000000000   -277920508602089913924809/500000000000000000    -37884105147921913141143/250000000000000000  -371023731005137732601727/1000000000000000000     47539003722592783500109/500000000000000000      -3014372256798309940979/12500000000000000    -10115294314627823496533/250000000000000000       -240019228359772058821/62500000000000000    148980857910280347779417/500000000000000000    -29153787053701660344661/100000000000000000  -252769049661613581665587/1000000000000000000  -432653303626340270391353/1000000000000000000  -431003396844253520429559/1000000000000000000     89397898047147511649121/250000000000000000  -409596494397681239810753/1000000000000000000   166059016875058582079221/1000000000000000000   179796360811857296384821/1000000000000000000    146203591450586780642779/250000000000000000    -41597159898284840961249/250000000000000000   226210902188963187519901/1000000000000000000     38104262783553618095521/200000000000000000   -362595980003041142647477/500000000000000000       5873293444972447916619/50000000000000000    16258704144527663337103/1000000000000000000   260444117708655179654223/1000000000000000000    -17645780022565879837751/250000000000000000]\n[     -9145192774776458197061/62500000000000000   -94255727816821791294809/1000000000000000000     71848303843697130228189/500000000000000000  -307680490775731105829437/1000000000000000000     12303145313302676578759/250000000000000000    -26513806140987915598289/100000000000000000    167042640054824651839277/500000000000000000      -4679303793619887445597/31250000000000000   -27907949425659424983503/1000000000000000000      8300733706032208269097/125000000000000000     -8342814224855927945063/250000000000000000    -78260842678570673313239/500000000000000000        -111651927008186320213/1600000000000000     65411607359866731042623/500000000000000000       -62028982745623268123/100000000000000000     38208567791414960981499/200000000000000000  -309229406089062950197957/1000000000000000000   -248275252836545611390383/500000000000000000     25239670618749162725667/200000000000000000    -63904504984029482194179/200000000000000000      1815690650320093280147/100000000000000000      -5180254967879577477511/31250000000000000   170920069626178086967659/1000000000000000000   219147045400174881652851/1000000000000000000     39216794006490196261747/500000000000000000        803026171492135957049/40000000000000000   115424814350084789138153/1000000000000000000     35761162787466427661699/500000000000000000   -149109181039953333409347/500000000000000000    51265627242547643817533/1000000000000000000  -146669592217317541870657/1000000000000000000  -330528969511108169110937/1000000000000000000     79143388987135006473017/500000000000000000     27145199935497290635803/125000000000000000    -84970796636213913769791/250000000000000000    -13428270010394516605631/125000000000000000    -55551936057553630257267/200000000000000000]'

big_b_str = '-76611881252021420130781/250000000000000000  360967222023427596582533/1000000000000000000  -35550849886498484691471/1000000000000000000     6538960975253952653109/100000000000000000  -18972011885701632511497/1000000000000000000 -380393984366937044141519/1000000000000000000 -308789717207136078567539/1000000000000000000  234211578395677820745191/1000000000000000000  -378398153759792548732119/500000000000000000   30195119848572484007571/1000000000000000000  -84955684067673830834283/1000000000000000000 -542531154124428611723433/1000000000000000000   -11828820407534688866429/200000000000000000 -177585908216801728567967/1000000000000000000 -454979160767814315706203/1000000000000000000  -119319672649938492922007/250000000000000000 -302699582162580197507507/1000000000000000000  152128884050121760607779/1000000000000000000     -3750299078776629067763/25000000000000000   161670689370528602585593/500000000000000000   -96238563579055345853873/200000000000000000  191480974551470598865781/1000000000000000000    -38325571636706262835983/50000000000000000    61337725034540436381589/500000000000000000   23218588607874279737041/1000000000000000000  -344628281023817971485203/500000000000000000  125917799444643810053027/1000000000000000000  135087571180553648207371/1000000000000000000  904049878265167676995151/1000000000000000000 -256337361906463162754983/1000000000000000000  328255858287021306562037/1000000000000000000  -14951100082494591728411/1000000000000000000 -789417409921030400032687/1000000000000000000  740951565182581798852157/1000000000000000000  121723676098240226581621/1000000000000000000  381094602003954231287897/1000000000000000000       -550390261601673866511/8000000000000000'

biases = []
for entry in big_b_str.split(" "):
    if "/" not in entry:
        continue
    s = entry.split("/")

    biases.append(Q(s[0], s[1]))

weights = []
for entry in big_w_str.splitlines():
    temp = []
    for i in entry.lstrip("[").rstrip("]").split(" "):
        if "/" not in i:
            continue
        s = i.split("/")
        temp.append(Q(s[0], s[1]))
    weights.append(temp)

target = []
with open("outputs.txt") as f:
    data = f.read()
    for entry in data.split():
        s = entry.split("/")
        target.append(Q(s[0], s[1]))

print(len(weights), len(weights[0]), len(biases), len(target))

in_arr = []
for i in range(22):
    in_arr.append(Int("i" + str(i)))

s = Solver()

for i in range(37):
    eq = in_arr[0] * weights[0][i]
    for j in range(1, 22):
        eq += in_arr[j] * weights[j][i]
    eq += biases[i]

    s.add(eq == target[i])

s.add(in_arr[0] == Q(ord("U"), 1))
s.add(in_arr[1] == Q(ord("M"), 1))
s.add(in_arr[2] == Q(ord("D"), 1))
s.add(in_arr[3] == Q(ord("C"), 1))
s.add(in_arr[4] == Q(ord("T"), 1))
s.add(in_arr[5] == Q(ord("F"), 1))
s.add(in_arr[6] == Q(ord("{"), 1))
s.add(in_arr[21] == Q(ord("}"), 1))

for e in in_arr:
    s.add(e >= 20)
    s.add(e < 127)

print(s.check())

model = s.model()
res = []
for i in range(22):
    res.append(model[in_arr[i]])

print("".join(list(map(lambda x: chr(x.as_long()), res))))